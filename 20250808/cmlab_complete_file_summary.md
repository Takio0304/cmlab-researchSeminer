# 計算力学研究室 (CMlab) 完全ファイル概要書
## 高速鉄道騒音のリアルタイム可聴化システム研究プロジェクト

**作成日:** 2025年8月2日  
**対象ディレクトリ:** C:\Users\mtats\desktop\cmlab\  
**研究者:** 増田樹 (中央大学理工学部都市環境学科 学部4年)

---

## 目次

1. [プロジェクト概要](#プロジェクト概要)
2. [ディレクトリ構造](#ディレクトリ構造)
3. [主要研究成果](#主要研究成果)
4. [ファイル詳細分析](#ファイル詳細分析)
5. [技術的発見](#技術的発見)
6. [研究進展の時系列](#研究進展の時系列)
7. [外部連携](#外部連携)
8. [今後の展望](#今後の展望)

---

## プロジェクト概要

### 研究テーマ
**「幾何音響理論に基づく高速鉄道騒音のリアルタイム可聴化システムの構築」**

### 研究目的
リニア中央新幹線に代表される電磁気浮上式高速鉄道の騒音問題に対する工学的評価と効果的な対策立案のため、HMD（Meta Quest 3）を用いた場所を選ばない手軽な騒音体験環境の構築を目指している。

### 主な技術要素
- **VR技術**: Meta Quest 3を用いた没入型体験
- **音響シミュレーション**: 幾何音響理論（ASJ RTN Model2018）に基づく計算
- **可聴化システム**: Unity と Max を用いたリアルタイム音響処理
- **開発環境**: Unity 2021→2023→6000への段階的アップグレード

---

## ディレクトリ構造

### 完全ディレクトリツリー

```
C:\Users\mtats\desktop\cmlab\
├── cmlab-researchSeminer\           # 研究セミナー発表資料
│   └── 20250808\                    # 2025年8月8日第1回発表会
│       ├── B4_masuda_20250808.pdf   # 発表論文（PDF版）
│       ├── B4_masuda_20250808.tex   # LaTeX源ファイル
│       ├── B4_masuda_20250808.txt   # テキスト版
│       ├── *.aux, *.log, *.synctex.gz # LaTeX コンパイル生成ファイル
│       └── *.sty                    # LaTeX スタイルファイル群
│
├── hokoku\                          # 週次報告書（18回分）
│   ├── 20250405_第1回報告会_増田樹.pdf  # 週次報告PDF版
│   ├── 20250412_第2回報告会_増田樹.pdf  # （以下、第18回まで継続）
│   ├── no1.md → no18.md             # 週次報告Markdown版
│   └── ...                          # 全18回の詳細報告
│
└── senpai\                          # 先輩からの引継ぎ資料
    ├── jr\                          # JR東海様向け説明資料
    │   ├── JR東海様説明資料*.pdf        # 6回分のプレゼン資料
    │   └── jr1.md → jr6.md          # 対応するMarkdown要約
    │
    └── unity\                       # Unity技術資料
        ├── ForButton2.cs            # 中核音響計算スクリプト
        ├── ForButton2_technical_documentation.md # 技術解説書
        └── aboutForbutton2.cs.pdf   # 詳細技術文書
```

---

## 主要研究成果

### 1. 音割れ問題の解決（重要な技術的突破）

#### 問題の発見と解決過程
- **2025年4月19日**: Meta Quest3でのリニアモーターカー走行音シミュレーションで音割れ発生を発見
- **長期間の原因究明**: Audio Mixerの音圧レベル範囲（-80~0dB）制限が原因と特定
- **複数の解決策検討**:
  1. Meta Quest3本体音量調整 → 効果なし
  2. 音源音圧レベル低下 → 部分的改善
  3. Meta Quest Link使用 → 効果なし
  4. Audio Mixer回避プログラム開発 → 改善確認
  5. **Unity 2023へのアップグレード → 根本的解決**

#### 最終的解決
- **Unity 2021 → 2023/6000への段階的アップグレード**
- **AAudioドライバの導入**による音響処理改善
- 長期間の音割れ問題が完全解決

### 2. 高度な音響シミュレーション実装

#### 物理モデル実装
- **距離減衰**: `Lp = Lw - 20log₁₀(r) - 8`
- **空気吸収**: 多項式近似による大気減衰計算
- **回折現象**: Maekawaチャートに基づく防音壁回折計算
- **ドップラー効果**: `f' = f × (v/(v - vs cosθ))`
- **音圧合成**: `Ltotal = 10log₁₀(Σ10^(Li/10))`

### 3. ユーザーインターフェース高度化

#### シナリオ化システム実現
- **段階的設定フロー**: 受音点設定→走行条件→音響オプション
- **リアルタイム表示**: 距離・高さ情報の動的更新
- **直感的操作**: 仮想キーボードによる精密数値入力

---

## ファイル詳細分析

### A. 研究セミナー発表資料 (`cmlab-researchSeminer/20250808/`)

#### 主要文書
- **B4_masuda_20250808.pdf/tex**: 第1回計算力学研究室発表会論文
  - **研究内容**: 幾何音響理論に基づく高速鉄道騒音のリアルタイム可聴化システム
  - **主要成果**: VR環境での騒音評価システム、定常音作成手法の確立
  - **検証結果**: 計算値と測定値の概ね一致を確認

#### LaTeX環境設定
- **cmlab_4.00.sty**: 研究室標準スタイルファイル（Ver 4.00, 2004年開発）
- **cmlab_5.00.sty**: 新バージョンスタイル
- **cmlabplus.sty**: 拡張パッケージ
- **その他**: bs2yen.sty, exttab.sty, secprogram.sty等の専門スタイルファイル

### B. 週次報告書 (`hokoku/`)

#### 報告書概要（全18回、2025年4月5日～8月2日）

**第1-5回（4月）**: 基礎環境構築期
- TOEIC・国家公務員試験対策と並行
- CAVE引継ぎ、Meta Quest3習熟
- 音割れ問題の発見と初期分析

**第6-10回（5-6月）**: 問題解決期
- Audio Mixer問題の深掘り調査
- 複数解決策の並行検証
- Unity学習とプログラム改修

**第11-18回（6-8月）**: 成果確立期
- Unity 2023アップグレード実施
- 音割れ問題の根本的解決
- 期末試験対応と研究継続

#### 重要な技術的マイルストーン
- **第3回（4月19日）**: 音割れ問題発見
- **第4回（4月26日）**: Audio Mixer制限の特定
- **第10回（6月7日）**: 自作プログラムによる改善確認
- **第18回（8月2日）**: Unity 2023による根本的解決

### C. 外部連携資料 (`senpai/jr/`)

#### JR東海様向け説明資料（6回分、2023年10月～2025年3月）

**技術進展の軌跡**:
1. **2023年10月**: HMDシステム基本構成の説明
2. **2024年1月**: モデリング・定常音作成手法の詳細化
3. **2024年3月**: 位置座標取得・音圧計算の実装
4. **2024年10月**: システム安定化と性能向上
5. **2025年1月**: 高度な音響オプション実装
6. **2025年3月**: シナリオ化システム完成、MR技術導入検討

**主要技術的特徴**:
- **開発環境**: Unity 2021.2.19f1 → 最新版への段階的移行
- **デバイス**: Meta Quest2 → Meta Quest3への更新
- **音響計算**: ASJモデル2018による高精度計算
- **可視化**: AUTODESK INFRAWORKS + SketchUpによる高品質3Dモデル

### D. Unity技術資料 (`senpai/unity/`)

#### ForButton2.cs - 中核音響計算エンジン

**技術的特徴**:
- **リアルタイム音響計算**: Update()メソッドでのフレーム毎計算
- **複数物理現象の統合**: 距離減衰、空気吸収、回折、ドップラー効果
- **高精度数値計算**: Maekawaチャートに基づく回折計算
- **VRインタラクション**: XR Interaction Toolkitによる直感的操作

**実装内容**（主要機能抜粋）:
```csharp
// 音圧レベル基本計算
dB[i] = Lst - 20f * Mathf.Log(sd[i], 10) - 8f + Lcor[i];

// ドップラー効果
dopplerFactor[i] = 340.0f / (340.0f - Mathf.Cos(theta[i]) * moveSpeed[i]);

// 複数音源合成
dB_sum = 10f * Mathf.Log(dB_calc, 10);
```

---

## 技術的発見

### 1. Unity Audio System の進化

#### 重大な発見
**Unity 2023でのAAudioドライバ導入が音割れ問題を根本的に解決**
- Android 8.1+でのAAudioドライバ採用
- 音響処理パイプラインの大幅改善
- レイテンシ削減とオーディオ品質向上

#### 技術的インパクト
- 長期間悩まされた音割れ問題の完全解決
- 複雑な回避策（Audio Mixer代替実装等）が不要に
- 今後のVR音響アプリケーション開発の指針確立

### 2. 幾何音響理論の実用的実装

#### 高度な物理シミュレーション
- **Maekawaチャート**: 回折計算の理論的基盤
- **フレネル数**: `N = 2δ/λ` による無次元化
- **経路差計算**: 幾何学的音線追跡
- **多項式近似**: 空気吸収の効率的計算

#### 実用性の確認
- VR空間での測定値と計算値の概ね一致
- リアルタイム処理での高精度維持
- 複数音源の正確な合成計算

### 3. VR/HMD技術の実用化

#### Meta Quest 3の活用
- 6DoFトラッキングによる自由移動
- 立体音響場の構築（Ambisonics手法）
- OSC通信による可視化・可聴化同期

#### ユーザビリティ向上
- シナリオ化による段階的操作フロー
- リアルタイム情報表示
- 直感的なVRインターフェース

---

## 研究進展の時系列

### フェーズ1: 基盤構築期（2025年3月-4月）
- **引継ぎ完了**: CAVE操作、HMDデモ実行の習得
- **環境整備**: PC設定、開発環境構築
- **基本機能確認**: 既存システムの理解と操作習熟

### フェーズ2: 問題発見・分析期（2025年4月-5月）
- **音割れ問題発見**: Meta Quest3での不具合特定
- **原因究明**: Audio Mixer制限の特定
- **解決策探索**: 複数アプローチの並行検証

### フェーズ3: 技術的解決期（2025年5月-6月）
- **プログラム改修**: Audio Mixer代替実装
- **Unity学習**: 深い技術理解の獲得
- **部分的改善**: 自作プログラムでの音割れ軽減確認

### フェーズ4: 根本的解決期（2025年7月-8月）
- **Unity 2023移行**: 開発環境の大幅アップグレード
- **問題完全解決**: AAudioドライバによる根本的改善
- **成果確定**: 技術的突破の達成

---

## 外部連携

### JR東海との連携

#### 継続的な成果報告（6回実施）
- **定期的プレゼンテーション**: 2023年10月～2025年3月
- **技術進展の共有**: システム機能の段階的向上報告
- **実用化検討**: 実際の騒音評価への応用可能性

#### 主要な技術的貢献
- **HMDシステムの実用化**: 場所を選ばない騒音体験環境
- **高精度シミュレーション**: 実測値との整合性確認
- **ユーザーフレンドリー設計**: 直感的操作による accessibility向上

### 国土技術政策総合研究所との連携
- **実地測定経験**: 2025年3月7日、茨城県つくば市
- **測定技術習得**: 騒音計、レコーダー操作方法
- **データ解析手法**: Oscopeを用いた周波数解析

---

## 今後の展望

### 技術的発展方向

#### 1. MR（Mixed Reality）技術の導入
- **現実空間との融合**: より実用的な騒音評価環境
- **現地調査支援**: 実際の建設現場での活用
- **合意形成支援**: 住民説明での活用拡大

#### 2. 音源データの高品質化
- **定常音の改善**: より自然な車両通過音の再現
- **多様な車両対応**: 在来線、新幹線、リニアの包括的対応
- **環境音の統合**: 風音、構造物共鳴等の追加

#### 3. システムの汎用化
- **他の交通機関への適用**: 道路交通、航空機騒音
- **騒音以外への展開**: 振動、電磁界等の物理現象
- **教育用途**: 工学教育での活用

### 学術的意義

#### 工学分野での貢献
- **土木工学**: インフラ騒音評価手法の革新
- **音響工学**: VR空間での音響現象再現技術
- **情報工学**: リアルタイム物理シミュレーション技術

#### 社会的インパクト
- **合意形成支援**: 大規模プロジェクトでの住民説明向上
- **環境アセスメント**: より直感的な影響評価手法
- **教育・啓発**: 騒音問題の理解促進

---

## 結論

### 主要な研究成果

1. **Unity音響システムの技術的突破**: 音割れ問題の根本的解決
2. **高精度物理シミュレーション**: 幾何音響理論の実用的実装
3. **VR技術の実用化**: Meta Quest 3による手軽な騒音体験環境
4. **産学連携の成功**: JR東海との継続的な技術開発協力

### 技術的インパクト

この研究プロジェクトは、VR技術と音響物理学の融合により、従来の大型設備（CAVE）に代わる革新的な騒音評価システムを実現した。特に、Unity 2023での音響処理改善の発見は、今後のVR音響アプリケーション開発に大きな指針を提供している。

### 将来的価値

開発されたシステムは、リニア中央新幹線をはじめとする大規模インフラプロジェクトの合意形成プロセスにおいて、住民への分かりやすい説明ツールとしての活用が期待される。また、工学教育分野でのインタラクティブな学習環境としての応用も有望である。

---

**最終更新**: 2025年8月2日  
**文書作成者**: Claude Code  
**基データ**: 計算力学研究室 増田樹 研究資料一式